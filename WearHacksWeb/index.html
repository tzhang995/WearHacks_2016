<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>WearHacks2016</title>
    <link href='https://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'>
    <link rel='stylesheet' href="css/bootstrap.css"/>
    <link rel='stylesheet' href="css/style.css"/>
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js'></script>
    <script type='text/javascript' src='https://cdn.firebase.com/js/client/1.0.11/firebase.js'></script>
    <script src="js/bootstrap.min.js"></script>
  </head>
  <body class="text-center">

    <div class="container-fluid jumbotron title-message text-center">
      <div class="h1">Discover</div>
      <div class="h2">Be amazed with the world around you</div>
    </div>

    <div class="col-md-12">
      <div class="col-md-2"> </div>
      <div class="col-md-3 carouselbox">
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
          <!-- Indicators -->
          <!--ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
          </ol-->

          <!-- Wrapper for slides -->
          <div class="carousel-inner" role="listbox">
            <div class="item active">
              <img src="img/drawer.png" alt="Drawer">
            </div>
            <div class="item">
              <img src="img/menu.png" alt="Menu">
            </div>
            <div class="item">
              <img src="img/dist.png" alt="Dist">
            </div>
          </div>
          <!-- Left and right controls -->
          <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
      <div class="col-md-5">
        <div class="container app-desc h4">
          <p class="text-center" >Some people have this misconception that technology confines us, that the more technology does, the less we humans will do. But that is not the case, humans have always had the need to explore, to find new and interesting things to do. And to help push that idea further, we have a new, revolutionary app designed to feed human nature's urge to explore.
Introducing Discover, a Pebble smart watch app that pulls coordinates from FireBase, a real-time cloud server, and navigates the user to where ever they want to go. As you get closer to your location, your watch will vibrate more intensely, alerting you that you are closer to your target destination. With our carefully analyzed algorithm, we guarantee new and interesting things for you to find. With this technology, exploring new things in life will be as easy as wearing a watch. From the childhood nostalgic game of hide-and-go-seek to an adrenaline rushing game of geo-caching, the posibilities are for you to discover.</p>
        </div>
      </div>
      <div class="col-md-2"> </div>
    </div>
    <div class="col-md-12">
      <div class="col-md-10 col-centered">
        <table id="firebase-table" class="table">
          <thead>
            <tr>
              <th colspan="2">Pebble 1</th>
              <th colspan="2">Pebble 2</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Latitude</td>
              <td id="LAT1"></td>
              <td>Latitude</td>
              <td id="LAT2"></td>
            </tr> 
            <tr>
              <td>Longitude</td>
              <td id="LONG1"></td>
              <td>Longitude</td>
              <td id="LONG2"></td>
            </tr> 
          </tbody>
        </table>
        <div id='messagesDiv'></div>
      </div>
    </div>
   
    
    <script>
      var myDataRef = new Firebase('https://blistering-heat-4723.firebaseio.com/');
      var name = $('#nameInput').val();
      var text = $('#messageInput').val();
      myDataRef.set({name: name, text: text});
      $('#nameInput').val('');
      $('#messageInput').val('');
    
      myDataRef.on('child_changed', function(snapshot) {
        var message = snapshot.val();
        var i = 1;
        snapshot.forEach(function(childSnapshot) {
            // key will be "fred" the first time and "barney" the second time
            var key = childSnapshot.key();
            window.alert(5 + 6);
            // childData will be the actual contents of the child
            var childData = childSnapshot.val();
            
            displayChatMessage(childData.latitude,childData.longitude, i);
            i++;
        });
      });
      function displayChatMessage(name, text, number) {
        if(number == 1){
          $("LAT1").update(name);
          $("LONG1").update(text);
        } else {
          $("LAT2").update(name);
          $("LONG2").update(text);
        }
      };

      function clearData(){
      	myDataRef.remove();
      	location.reload(); 
      }
    </script>
  </body>
</html>
